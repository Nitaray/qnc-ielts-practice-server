type Query {
	allTests:		[Test!]!
	test(id: int!):	Test
	user(id: int!):	User
}

type Mutation {
	signup(username: String!, password: String!, name: String): AuthPayload
	login(username: String!, password: String!):                AuthPayload
	createComment(content: String!):                            Boolean!
	deleteComment(commentId: int!):                             Boolean!
	addTest(test: Test!):                                       Boolean!
	changeName(newName: String!):                               Boolean!
} 

type AuthPayload {
	token:              String
	user:               User
}

type User {
	id:                 int!
	username:           String!
	fullname:           String
	role:               Role
	Rating:             int!
	comments:           [Comment!]
	doneTests:          [Test!]
}

fragment personalInfo on User {
	fullname
}

type Role {
	id:                 int!
	name:               String!
}

type Test {
	id:                 int!
	type:               String!
	sections:           [TestSection!]!
	comments:           [Comment!]
}

type TestSection {
	id:                 int!
	type:               String!
	statementText:      String
	statementAudio:     String
	questionList:       [QuestionGroup!]!
}

type Question {
	id:                 int!
	type:               String!
	statementText:      String!
	answers:            [Answer!]
}

type QuestionGroup {
	id:                 int!
	introText:          String!
	questions:          [Question!]!
}

type Answer {
	id:                 int!
	text:               String!
}

type Comment {
	id:                 int!
	user:               User!
	content:            String!
	created:            String!
}
